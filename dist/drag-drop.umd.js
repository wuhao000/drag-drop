!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).MyLib={},e.Vue)}(this,(function(e,t){"use strict";const a=e=>e.reduce(((e,t)=>(e[t]=t)&&e),{}),r=a(["drag","dragend","dragenter","dragleave","dragstart","dragover","drop"]),n=a(["copy","move","link","none"]),o=a(["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"]);var d={data:void 0},i=t.defineComponent({name:"Drag",props:{draggable:{type:Boolean,default:!0},transferData:{},dropEffect:{validator:e=>e in n},effectAllowed:{validator:e=>e in o},image:String,imageXOffset:{type:Number,default:0},imageYOffset:{type:Number,default:0},hideImageHtml:{type:Boolean,default:!0},tag:{type:String,default:"div"}},setup(e,{slots:a,emit:n}){const o=t.ref(!1),i=t.computed((()=>o.value&&e.transferData)),l=t.computed((()=>({position:"fixed",top:"-1000px"})));return{dragging:o,scopedData:i,hideImageStyle:l,events:r,emitEvent:(t,i)=>{const l=i.dataTransfer;if([r.dragenter,r.dragover].includes(t)&&e.dropEffect&&(l.dropEffect=e.dropEffect),t===r.dragstart){if(e.effectAllowed&&(l.effectAllowed=e.effectAllowed),e.image||a.image){let t;e.image?(t=new Image,t.src=e.image):a.image&&(t=a.image()[0].el),l.setDragImage&&l.setDragImage(t,e.imageXOffset,e.imageYOffset)}void 0!==e.transferData&&(d.data=e.transferData,i.dataTransfer.setData("text","")),o.value=!0}n(t,e.transferData,i),t===r.dragend&&(d.data=void 0,o.value=!1)}}}});i.render=function(e,a,r,n,o,d){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.tag),{draggable:e.draggable,onDrag:a[1]||(a[1]=t=>e.emitEvent(e.events.drag,t)),onDragstart:a[2]||(a[2]=t=>e.emitEvent(e.events.dragstart,t)),onDragenter:a[3]||(a[3]=t=>e.emitEvent(e.events.dragenter,t)),onDragleave:a[4]||(a[4]=t=>e.emitEvent(e.events.dragleave,t)),onDragend:a[5]||(a[5]=t=>e.emitEvent(e.events.dragend,t))},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default",{transferData:e.scopedData}),e.hideImageHtml?(t.openBlock(),t.createBlock("div",{key:0,style:e.hideImageStyle},[t.renderSlot(e.$slots,"image",{transferData:e.scopedData})],4)):t.renderSlot(e.$slots,"image",{key:1,transferData:e.scopedData})])),_:3},8,["draggable"])};const l=new Set;var s=t.defineComponent({name:"drop",props:{tag:{type:String,default:"div"}},setup(e,{emit:a}){const n=t.ref(void 0),o=t.ref(!1),i=t.computed((()=>o.value&&n.value)),s=t.getCurrentInstance();return{transferData:n,isDraggingOver:o,events:r,scopedData:i,emitEvent:(e,t)=>{n.value=d.data,a(e,n.value,t),e===r.dragenter&&(l.size||t.target===s.vnode.el)&&l.add(t.target),e===r.dragleave&&l.delete(t.target),e===r.drop&&l.clear(),o.value=Boolean(l.size)}}},methods:{}});function g(e){e.component("drag",i),e.component("drop",s)}s.render=function(e,a){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.tag),{onDragenter:a[1]||(a[1]=t=>e.emitEvent(e.events.dragenter,t)),onDragleave:a[2]||(a[2]=t=>e.emitEvent(e.events.dragleave,t)),onDragover:a[3]||(a[3]=t.withModifiers((t=>e.emitEvent(e.events.dragover,t)),["prevent"])),onDrop:a[4]||(a[4]=t.withModifiers((t=>e.emitEvent(e.events.drop,t)),["prevent"]))},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default",{transferData:e.scopedData})])),_:3})};const f={install:g};e.Drag=i,e.Drop=s,e.default=f,e.install=g,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
